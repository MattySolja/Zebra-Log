<!DOCTYPE html>
<html>
  <head>
    <title>Grid of Buttons</title>
    <style>
      .bodyColor {
        background-color: #474747;
      }

      .main {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        width: 75%;
        margin: auto;
        background-color: rgb(121, 121, 121);
        border-radius: 50px;
        box-shadow: #474747 0px 0px 10px 10px;
      }

      .info {
        grid-template-columns: repeat(1, 1fr);
        margin: auto;
        width: 75%;
        text-align: left;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        width: 75%;
        margin: auto;
        border: black solid 1px;
      }
      .lefthalf {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        background-color: blue;
        margin: auto;
        width: 100%;
        text-align: center;
      }
      .righthalf {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        background-color: red;
        margin: auto;
        width: 100%;
        text-align: center;
      }

      .button {
        padding: 10px;
        text-align: center;
        background-color: #f0f0f0;
        border: none;
        cursor: pointer;
        height: 50px;
      }
      .button:hover {
        background-color: #ddd;
      }
      .button:active {
        background-color: #aaa;
      }

      .submit-button {
        padding: 10px;
        background-color: #4caf50;
        color: white;
        border: none;
        cursor: pointer;
        grid-column: span 2;
        height: 50px;
        margin: auto;
      }
      .submit-button:hover {
        background-color: #45a049;
      }
      .submit-button:active {
        background-color: #3e8e41;
      }

      .grid-heading {
        text-align: center;
        grid-column: span 2;
        background-color: yellow;
      }
    </style>
  </head>
  <body class="bodyColor">
    <div class="main">
      <div class="grid">
        <h1 class="grid-heading">BMS</h1>
        <div class="lefthalf">
          <h2>Left Half</h2>
          <button class="button" id="L1">1</button>
          <button class="button" id="L2">2</button>
          <button class="button" id="L3">3</button>
          <button class="button" id="L4">4</button>
          <button class="button" id="L5">5</button>
          <button class="button" id="L6">6</button>
          <button class="button" id="L7">7</button>
          <button class="button" id="L8">8</button>
        </div>
        <div class="righthalf">
          <h2>Right Half</h2>
          <button class="button" id="R1">1</button>
          <button class="button" id="R2">2</button>
          <button class="button" id="R3">3</button>
          <button class="button" id="R4">4</button>
          <button class="button" id="R5">5</button>
          <button class="button" id="R6">6</button>
          <button class="button" id="R7">7</button>
          <button class="button" id="R8">8</button>
        </div>
      </div>

      <div class="info">
        <h2>Info</h2>
        <p>Serial Number:</p>
        <input
          type="text"
          class="text-input"
          id="serialInput"
          placeholder="Enter serial"
        />
        <p>Build Date:</p>
        <input
          type="date"
          class="text-input"
          id="buildInput"
          placeholder="Enter build date"
        />
        <p>Builder:</p>
        <select id="builder">
          <option value="" selected disabled>Select a builder</option>
          <option value="matt">Matt</option>
          <option value="craig">Craig</option>
          <option value="adaire">Adaire</option>
          <option value="George">George</option>
        </select>
        <p>Purchase Date:</p>
        <input
          type="date"
          class="text-input"
          id="purchaseInput"
          placeholder="Enter purchase date"
        />
        <p>Supplier:</p>
        <select id="Supplier">
          <option value="" selected disabled>Select a supplier</option>
          <option value="Fogstar">Fogstar</option>
          <option value="Ecobat">Ecobat</option>
        </select>
        <p>Battery type:</p>
        <select id="batteryType">
          <option value="" selected disabled>Select a battery type</option>
          <option value="280">280 (Black)</option>
          <option value="280L">280L (White)</option>
        </select>
        <p>Capacity:</p>
        <input
          type="text"
          class="text-input"
          id="capacityInput"
          placeholder="Enter capacity"
        />
      </div>
      <button class="submit-button">Submit</button>
    </div>
    <script>
      document.querySelector(".grid").addEventListener("click", function (e) {
        if (e.target.className === "button") {
          var id = e.target.id;
          e.target.outerHTML =
            '<input type="text" class="text-input" id="' +
            id +
            'Input" placeholder="Enter serial">';
        }
      });

      document
        .querySelector(".grid")
        .addEventListener("keypress", function (e) {
          if (e.target.className === "text-input" && e.keyCode === 13) {
            var id = e.target.id.slice(0, -5); // Remove 'Input' from the id
            e.target.outerHTML =
              '<button class="button" id="' +
              id +
              '">' +
              e.target.value +
              "</button>";
          }
        });

      document.querySelector(".grid").addEventListener(
        "blur",
        function (e) {
          if (e.target.className === "text-input") {
            var id = e.target.id.slice(0, -5); // Remove 'Input' from the id
            e.target.outerHTML =
              '<button class="button" id="' +
              id +
              '">' +
              e.target.value +
              "</button>";
          }
        },
        true
      ); // Use capture phase to ensure the event is caught before it bubbles up
    </script>
  </body>
</html>
